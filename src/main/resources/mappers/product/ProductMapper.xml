<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- ProductMapper Xml -->
<mapper namespace="com.project.fastpickup.admin.product.mappers.ProductMapper">
  <!-- Create Product ProductMapper id = "createProduct" -->
  <insert id="createProduct">
    insert into tbl_product
    (productName, productContent, productPrice, isRecommend)
    values (#{productName}, #{productContent}, #{productPrice}, #{isRecommend})
    <selectKey resultType="long" keyProperty="pno" order="AFTER">
      select last_insert_id()
    </selectKey>
  </insert>


  <!-- Read Product ProductMapper id = "selectOne" -->
  <select id="selectOne" resultType="ProductDTO">
    select tp.pno, tp.productName, tp.productContent, tp.productPrice, tp.registDate,
        tp.updateDate, tp.viewCount, tp.likeCount, tp.isRecommend, tp.isDeletedProduct
    from tbl_product tp
    where tp.pno = #{pno}
  </select>

</mapper>